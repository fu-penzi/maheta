<img class="track-thumb" src="{{ this.track?.thumbUrl }}" alt="track-thumb" />

<div class="track-info">
  <strong class="track-info__title">{{ this.track?.title }}</strong>
  <span class="track-info__author">{{ this.track?.author }}</span>
</div>

<div class="track-controls">
  <mat-slider
    color="accent"
    [max]="sliderSettings.max"
    [min]="sliderSettings.min"
    [step]="sliderSettings.step"
    [value]="sliderSettings.value"
    (valueChange)="sliderRelease($event)"
    (input)="sliderHold($event)"
    aria-labelledby="example-name-label"
  >
  </mat-slider>
  <div class="track-controls__track-time">
    <span>{{ this.currentTrackTime | mahetaDuration }}</span>
    <span>{{ this.duration| mahetaDuration }}</span>
  </div>

  <div class="track-controls__buttons">
    <button
      [color]="isShuffle() ? 'accent' : undefined"
      (click)="toggleShuffle()"
      mat-icon-button
      aria-label="Example icon button with a bookmark icon"
    >
      <mat-icon>shuffle</mat-icon>
    </button>

    <div class="track-controls__center-buttons">
      <button
        (click)="prev()"
        mat-icon-button
        aria-label="Example icon button with a bookmark icon"
      >
        <mat-icon>skip_previous</mat-icon>
      </button>

      <ng-container *ngIf="!isPlaying()">
        <button
          (click)="play()"
          mat-fab
          color="accent"
          aria-label="Example icon button with a bookmark icon"
        >
          <mat-icon>play_arrow</mat-icon>
        </button>
      </ng-container>

      <ng-container *ngIf="isPlaying()">
        <button
          (click)="pause()"
          mat-fab
          color="accent"
          aria-label="Example icon button with a bookmark icon"
        >
          <mat-icon>pause</mat-icon>
        </button>
      </ng-container>

      <button
        (click)="next()"
        mat-icon-button
        aria-label="Example icon button with a bookmark icon"
      >
        <mat-icon>skip_next</mat-icon>
      </button>
    </div>

    <button
      mat-icon-button
      [color]="isRepeat() ? 'accent' : undefined"
      (click)="toggleRepeat()"
      aria-label="Example icon button with a bookmark icon"
    >
      <mat-icon>repeat</mat-icon>
    </button>
  </div>
</div>

<div class="track-lyrics" *ngIf="lyricSentences?.length">
  <h1 class="track-lyrics__header"><mat-icon>music_note</mat-icon>Lyrics</h1>
  <div class="track-lyrics__lyrics">
    <div *ngFor="let sentence of lyricSentences">
      <span
        *ngFor="let word of sentence.words"
        (click)="wordSelect(word)"
        [class.active]="isWordHighlighted(word)"
      >
        {{ word }}
      </span>
    </div>
  </div>
</div>
